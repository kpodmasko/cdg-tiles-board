(this["webpackJsonpcdg-tiles-board"]=this["webpackJsonpcdg-tiles-board"]||[]).push([[0],{11:function(e,a,t){e.exports=t(30)},26:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},30:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),i=t(9),l=t.n(i),r=t(1),d=t(4),o=t(7),u=t(6),s=t.n(u),m=t(10),b=t.n(m),p=t(2),v="app",E="board",O="card",g="GUESSED",V="OPENED",f="CLOSED";t(26);var A=Object(n.memo)((function(e){var a,t=e.className,i=void 0===t?"":t,l=e.state,r=void 0===l?f:l,d=e.children,o=e.onClick,u=e.onTransitionEnd,m=e.id,b=void 0===m?Math.random():m,v=s()("".concat("card"),i,(a={},Object(p.a)(a,"".concat("card","--opened"),r===V),Object(p.a)(a,"".concat("card","--closed"),r===f),Object(p.a)(a,"".concat("card","--guessed"),r===g),a)),E=Object(n.useCallback)((function(e){o&&o({event:e,id:b})}),[b,o]),A=Object(n.useCallback)((function(e){u&&u({event:e,id:b})}),[b,u]);return c.a.createElement("div",{className:v,"data-testid":O,id:b,onClick:E},c.a.createElement("div",{className:"".concat("card","__part ").concat("card","__part--front"),onTransitionEnd:A},c.a.createElement("div",{className:"".concat("card","__content")},d)),c.a.createElement("div",{className:"".concat("card","__part ").concat("card","__part--back")}))}));t(27);var w=Object(n.memo)((function(e){var a=e.className,t=void 0===a?"":a,i=e.cards,l=e.onRoundPlayed,u=e.game,m=e.renderCardContent,p=s()("board",t),v=Object(n.useState)(),O=Object(r.a)(v,2),w=O[0],j=O[1],k=Object(n.useState)(),h=Object(r.a)(k,2),C=h[0],N=h[1],_=Object(n.useRef)(!1),y=Object(n.useRef)(0),S=Object(n.useCallback)((function(e){var a=e.id;if(a&&!_.current&&w[a].state!==g){var t=Object(o.a)({},w),n=Object(d.a)(C);t[a].state===V?(t[a].state=f,n=n.filter((function(e){return e!==a}))):t[a].state!==f&&t[a].state||(t[a].state=V,n=[].concat(Object(d.a)(n),[a])),_.current=!0,j(t),N(n)}}),[w,C]),B=Object(n.useCallback)((function(){if(_.current=!1,!(C.length<2)){var e=Object(o.a)({},w),a=e[C[0]],t=e[C[1]];a.modelValue===t.modelValue?(a.state=g,t.state=g,y.current=y.current+2):(a.state=f,t.state=f),l&&l(y.current===u.length),N([])}}),[C,w,l,u]);return Object(n.useEffect)((function(){j(b()(i)),N([]),y.current=0}),[i,u]),c.a.createElement("div",{"data-testid":E,className:p},c.a.createElement("div",{className:"".concat("board","__cards-container")},u&&w&&u.map((function(e){var a=w[e]||{},t=a.state,n=a.viewValue,i=a.id;return c.a.createElement(A,{id:i||e,key:i||e,className:"".concat("board","__card"),state:t,onClick:S,onTransitionEnd:B},m?m(n):n)}))))}));function j(e){for(var a=Object(d.a)(e),t=a.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),c=[a[n],a[t]];a[t]=c[0],a[n]=c[1]}return a}var k={id1:{id:"id1",viewValue:"red",modelValue:"red"},id2:{id:"id2",viewValue:"red",modelValue:"red"},id3:{id:"id3",viewValue:"green",modelValue:"green"},id4:{id:"id4",viewValue:"green",modelValue:"green"},id5:{id:"id5",viewValue:"yellow",modelValue:"yellow"},id6:{id:"id6",viewValue:"yellow",modelValue:"yellow"},id7:{id:"id7",viewValue:"pink",modelValue:"pink"},id8:{id:"id8",viewValue:"pink",modelValue:"pink"},id9:{id:"id9",viewValue:"orange",modelValue:"orange"},id10:{id:"id10",viewValue:"orange",modelValue:"orange"},id11:{id:"id11",viewValue:"purple",modelValue:"purple"},id12:{id:"id12",viewValue:"purple",modelValue:"purple"},id13:{id:"id13",viewValue:"black",modelValue:"black"},id14:{id:"id14",viewValue:"black",modelValue:"black"},id15:{id:"id15",viewValue:"gray",modelValue:"gray"},id16:{id:"id16",viewValue:"gray",modelValue:"gray"}};t(28);var h=k;function C(e){return c.a.createElement("div",{style:{background:e,width:"100%",height:"100%"}})}var N=function(){var e=Object(n.useState)(1),a=Object(r.a)(e,2),t=a[0],i=a[1],l=Object(n.useState)(j(Object.keys(h))),d=Object(r.a)(l,2),o=d[0],u=d[1],s=Object(n.useState)(!1),m=Object(r.a)(s,2),b=m[0],p=m[1],E=Object(n.useCallback)((function(e){e?p(!0):i((function(e){return e+1}))}),[]),O=Object(n.useCallback)((function(){u(j(Object.keys(h))),i(1),p(!1)}),[]);return c.a.createElement("div",{className:"".concat("app"),"data-testid":v},c.a.createElement("header",{className:"".concat("app","__header")},c.a.createElement("h1",null,"Round ",t),c.a.createElement("span",{className:"".concat("app","__reset-button"),onClick:O},c.a.createElement("img",{alt:"Reset",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABFElEQVRIie3VMW7CMBTGcahUlsLIyAVgQGJpT8EFeglOQtUcgTN0ao9BJ1ZWptKBAfHr0IfkpoE4Vdn4pMiJ8773jx37udW6qonQRz95HmDjtz7xjieMcpO38RJXO+mf4lABOWqPAp06wCwxzWpi73CPZ+zC83YSgkkSKO4nmSMfYx2+oiqgh1XF0FfoNYDsYrqG5ZeLM/O7yAFEniI883NBIDdpyXsf9uWlAN2wf1wEcMp/89dkuSoDtvEl3UsB1tEOy4H/BXiN9jE3QbrMk77qZY5RbJYdxpmAZhs12TDrBpD8UoNb34XrGFjgoe7Ha1AsW+hE4n3F0I86YJp4Kst9HWiEOZbYVkA2GCTxPw6sq7L0BQdDMu9aZpOpAAAAAElFTkSuQmCC"}))),b?c.a.createElement("div",{className:"".concat("app","__game-over")},c.a.createElement("p",null,"GAME IS",c.a.createElement("span",{className:"".concat("app","__game-over-main")},c.a.createElement("sup",null,"O"),"V",c.a.createElement("sup",null,"E"),"R"))):c.a.createElement(w,{cards:h,onRoundPlayed:E,game:o,renderCardContent:C}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(29);l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.72d8b424.chunk.js.map